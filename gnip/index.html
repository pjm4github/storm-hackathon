
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>gnip - Hopper Storm Hackathon</title>
  <meta name="author" content="Ilya Kaplun">

  
  <meta name="description" content="Gnip Jul 18th, 2013 GNIP Enterprise Data Collector (EDC). GNIP provides access to enriched data from sources including Twitter, Facebook, Youtube, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://hackreduce.github.io/storm-hackathon/gnip/">
  <link href="/storm-hackathon/favicon.png" rel="icon">
  <link href="/storm-hackathon/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
   <link href="/storm-hackathon/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <script src="/storm-hackathon/javascripts/modernizr-2.0.js"></script>
  <script src="/storm-hackathon/javascripts/ender.js"></script>
  <script src="/storm-hackathon/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/storm-hackathon/atom.xml" rel="alternate" title="Hopper Storm Hackathon" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>


  

</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/storm-hackathon/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:hackreduce.github.io/storm-hackathon" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/storm-hackathon/">Home page</a></li>
  <li><a href="/storm-hackathon/start">Getting Started</a></li>
  <li><a href="/storm-hackathon/datasets">Datasets</a></li>
  <li><a href="/storm-hackathon/cluster">Cluster</a></li>
  <li><a href="/storm-hackathon/finagle">Finagle</a></li>
</ul>

</nav> 
  <div id="main">
    <div id="content">
      <div>
<article role="article">
  
  <header>
    <h1 class="entry-title">Gnip</h1>
    <p class="meta">








  


<time datetime="2013-07-18T10:01:00-04:00" pubdate data-updated="true">Jul 18<span>th</span>, 2013</time></p>
  </header>
  
  <h1>GNIP Enterprise Data Collector (EDC).</h1>

<p>GNIP provides access to enriched data from sources including Twitter, Facebook, Youtube, etc. There are several ways to access the data. The example we have set up is Youtube uploads using EDC. It is a stream of events describing uploads, matching some criteria. The data is retrieved by periodically (every 1 sec) connecting to a specified endpoint, receiving the response and processing it. The response contains a “refreshUrl” parameter, which should be used as the target endpoint for the next request. The topology uses tick events to trigger EDC requests:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="n">tickConfig</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">Config</span><span class="o">.</span><span class="na">TOPOLOGY_TICK_TUPLE_FREQ_SECS</span><span class="o">,</span> <span class="mi">1</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>The request is performed by GnipEdcRequestBolt, response is parsed and each event is emitted to “gnip_events” stream. There is two more bolts in the topology. GnipEventTransformBolt parses the event, extracts two fields (“title”, “link”) from it and emits a concatenated value as “msgs” stream. GnipEventPersistBolt simply prints the values.
Quick Start Guide.</p>

<p>Modify <code>./src/main/java/org/hackreduce/storm/gnip/topology/GnipStreamTopology.java</code> providing valid credentials to connect to GNIP EDC.</p>

<h2>Build the project:</h2>

<p>mvn clean package</p>

<h2>Run it:</h2>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>tools/submit org.hackreduce.storm.gnip.topology.GnipStreamTopology 1
</span></code></pre></td></tr></table></div></figure>


<p>The command line parameter <code>1</code> will force the topology to run in local cluster. If no parameter is specified, the topology will be submitted to the cluster using StormSubmitter.submitTopology() method to localhost as Niumbus.</p>

  
    <footer>
      <p class="meta">
        
        








  


<time datetime="2013-07-18T10:01:00-04:00" pubdate data-updated="true">Jul 18<span>th</span>, 2013</time>
        
      </p>
      
        <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://hackreduce.github.io/storm-hackathon/gnip/index.html" data-via="" data-counturl="http://hackreduce.github.io/storm-hackathon/gnip/index.html" >Tweet</a>
  
  
  
</div>

      
    </footer>
  
</article>

</div>

<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://hackreduce.github.io/storm-hackathon" alt="Home"><img src="/storm-hackathon/images/Home.png"></a>
      <a href="http://hackreduce.github.io/storm-hackathon/archives/" alt="Archives"><img src="/storm-hackathon/images/Calendar.png"></a>
      
      <a href="http://hackreduce.github.io/storm-hackathon/atom.xml" alt="subscribe feed"><img src="/storm-hackathon/images/rss.png"></a>
      </li>
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/hackreduce">@hackreduce</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'hackreduce',
            count: 1,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/storm-hackathon/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Ilya Kaplun -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
